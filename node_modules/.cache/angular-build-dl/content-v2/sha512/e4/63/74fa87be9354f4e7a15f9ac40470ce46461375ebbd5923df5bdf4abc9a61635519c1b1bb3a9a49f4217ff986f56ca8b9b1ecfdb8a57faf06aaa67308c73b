(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"k+ul":function(t,s,a){"use strict";a.r(s),a.d(s,"Tab3PageModule",(function(){return m}));var e=a("TEn/"),i=a("tyNb"),o=a("ofXK"),r=a("3Pt+"),n=a("fXoL"),l=a("sSZD"),b=a("UbJi"),c=a("FHRc"),p=a("QQAA");function h(t,s){if(1&t){const t=n.Mb();n.Lb(0,"ion-card"),n.Lb(1,"ion-item-sliding"),n.Lb(2,"ion-item",6),n.Lb(3,"ion-label",7),n.Lb(4,"h2",8),n.gc(5),n.Kb(),n.Lb(6,"h3"),n.gc(7),n.Kb(),n.Kb(),n.Lb(8,"h3",9),n.gc(9),n.Kb(),n.Jb(10,"ion-icon",10),n.Kb(),n.Lb(11,"ion-item-options",11),n.Lb(12,"ion-item-option",12),n.Tb("click",(function(){n.cc(t);const a=s.$implicit;return n.Vb().borrar(a)})),n.Jb(13,"ion-icon",13),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&t){const t=s.$implicit;n.yb(5),n.hc(t.titulo),n.yb(2),n.hc(t.dia),n.yb(2),n.ic("",t.cuenta,"",t.divisa,"",t.plata,"")}}let d=(()=>{class t{constructor(t,s,a,e){this.afDB=t,this.AFauth=s,this.authService=a,this.router=e,this.historiales=[],this.AFauth.authState.subscribe(t=>{t&&(this.afDB.list("/Users/"+t.uid+"/plata").valueChanges().subscribe(t=>{this.dolaresTotales=t[0],this.pesosTotales=t[1]}),this.getHistorial(t.uid))})}getHistorial(t){this.id=t,this.afDB.list("Users/"+t+"/historial/").snapshotChanges(["child_added","child_removed"]).subscribe(t=>{this.historiales=[],t.forEach(t=>{this.historiales.push({key:t.key,titulo:t.payload.exportVal().titulo,divisa:t.payload.exportVal().divisa,cuenta:t.payload.exportVal().cuenta,plata:t.payload.exportVal().plata,dia:t.payload.exportVal().dia})})})}borrar(t){"-"==t.cuenta?"$"==t.divisa?(this.pesosTotales=parseInt(this.pesosTotales)+parseInt(t.plata),this.afDB.database.ref("/Users/"+this.id+"/plata/pesos").set(this.pesosTotales)):(this.pesosTotales=parseInt(this.dolaresTotales)+parseInt(t.plata),this.afDB.database.ref("/Users/"+this.id+"/plata/dolares").set(this.pesosTotales)):"$"==t.divisa?(this.pesosTotales=parseInt(this.pesosTotales)-parseInt(t.plata),this.afDB.database.ref("/Users/"+this.id+"/plata/pesos").set(this.pesosTotales)):(this.pesosTotales=parseInt(this.dolaresTotales)-parseInt(t.plata),this.afDB.database.ref("/Users/"+this.id+"/plata/dolares").set(this.pesosTotales)),this.afDB.list("Users/"+this.id+"/historial/").remove(t.key)}}return t.\u0275fac=function(s){return new(s||t)(n.Ib(l.a),n.Ib(b.a),n.Ib(c.a),n.Ib(i.g))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-tab3"]],decls:11,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["name","Tab 3 page"],[2,"--background","#03532b"],[2,"color","white"],[2,"font-weight","bold"],[2,"color","white","margin-bottom","5%"],["name","cash",2,"font-size","150%","margin-left","2%"],["side","end"],["color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(t,s){1&t&&(n.Lb(0,"ion-header",0),n.Lb(1,"ion-toolbar"),n.Lb(2,"ion-title"),n.gc(3," Historial "),n.Kb(),n.Kb(),n.Kb(),n.Lb(4,"ion-content",1),n.Lb(5,"ion-header",2),n.Lb(6,"ion-toolbar"),n.Lb(7,"ion-title",3),n.gc(8,"Historial"),n.Kb(),n.Kb(),n.Kb(),n.fc(9,h,14,5,"ion-card",4),n.Jb(10,"app-explore-container",5),n.Kb()),2&t&&(n.Yb("translucent",!0),n.yb(4),n.Yb("fullscreen",!0),n.yb(5),n.Yb("ngForOf",s.historiales))},directives:[e.m,e.C,e.B,e.j,o.h,p.a,e.g,e.s,e.p,e.t,e.n,e.r,e.q],styles:[""]}),t})();var u=a("qtYk");const f=[{path:"",component:d}];let g=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(s){return new(s||t)},imports:[[i.i.forChild(f)],i.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(s){return new(s||t)},imports:[[e.D,o.b,r.a,u.a,i.i.forChild([{path:"",component:d}]),g]]}),t})()}}]);